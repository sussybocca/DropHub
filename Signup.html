<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>DropHub â€” Sign Up / Login</title>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword,
           GoogleAuthProvider, OAuthProvider, signInWithPopup } 
           from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyB6xF5RTX6wy87TT17q61nUzoHI70JBkcA",
    authDomain: "funfu-b4ad8.firebaseapp.com",
    projectId: "funfu-b4ad8",
    storageBucket: "funfu-b4ad8.appspot.com",
    messagingSenderId: "400767863064",
    appId: "1:400767863064:web:xxxxxxxxxxxxxxxxxxxxx",
    measurementId: "G-XXXXXXXXXX"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  const signupForm = document.getElementById('signup-form');
  const loginForm = document.getElementById('login-form');
  const googleBtn = document.getElementById('google-btn');
  const appleBtn = document.getElementById('apple-btn');

  const googleProvider = new GoogleAuthProvider();
  const appleProvider = new OAuthProvider('apple.com');

  // Signup
  signupForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = signupForm.email.value;
    const password = signupForm.password.value;
    try {
      await createUserWithEmailAndPassword(auth, email, password);
      signupForm.reset();
      window.location.href = "ai.html";  // redirect to AI hub
    } catch(err) {
      alert(err.message);
    }
  });

  // Login
  loginForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = loginForm.email.value;
    const password = loginForm.password.value;
    try {
      await signInWithEmailAndPassword(auth, email, password);
      loginForm.reset();
      window.location.href = "ai.html";  // redirect to AI hub
    } catch(err) {
      alert(err.message);
    }
  });

  // Google login
  googleBtn.addEventListener('click', async () => {
    try {
      await signInWithPopup(auth, googleProvider);
      window.location.href = "ai.html";
    } catch(err) {
      alert(err.message);
    }
  });

  // Apple login
  appleBtn.addEventListener('click', async () => {
    try {
      await signInWithPopup(auth, appleProvider);
      window.location.href = "ai.html";
    } catch(err) {
      alert(err.message);
    }
  });
</script>

<style>
  body {font-family:Arial,sans-serif;margin:0;background:#f5f7fb;}
  main {max-width:420px;margin:60px auto;background:white;padding:24px;border-radius:10px;box-shadow:0 6px 20px rgba(10,37,90,0.08);}
  h1 {margin-top:0;color:#0a59a6;font-size:20px;}
  h2 {margin:18px 0 8px;color:#333;font-size:16px;}
  form {display:flex;flex-direction:column;margin-bottom:8px;}
  input {margin:6px 0;padding:10px;font-size:14px;border:1px solid #e1e6ee;border-radius:6px;}
  button {margin-top:10px;padding:10px;background:#0a59a6;color:white;border:none;border-radius:6px;cursor:pointer;font-weight:600;}
  button:hover {opacity:0.95;}
  .divider {text-align:center;margin:18px 0;font-size:14px;color:#777;}
  .social {display:flex;gap:10px;flex-direction:column;}
  .brand {text-align:center;margin-bottom:12px;color:#0a59a6;font-weight:700;}
</style>
</head>
<body>
  <main>
    <div class="brand">DropHub</div>

    <h1>Sign up or log in</h1>

    <h2>Create an account</h2>
    <form id="signup-form" autocomplete="on">
      <input type="email" name="email" placeholder="Email" required>
      <input type="password" name="password" placeholder="Password (min 6 chars)" required>
      <button type="submit">Sign Up</button>
    </form>

    <h2>Login</h2>
    <form id="login-form" autocomplete="on">
      <input type="email" name="email" placeholder="Email" required>
      <input type="password" name="password" placeholder="Password" required>
      <button type="submit">Login</button>
    </form>

    <div class="divider">OR</div>

    <div class="social">
      <button id="google-btn">Continue with Google</button>
      <button id="apple-btn">Continue with Apple</button>
    </div>
  </main>
</body>
</html>